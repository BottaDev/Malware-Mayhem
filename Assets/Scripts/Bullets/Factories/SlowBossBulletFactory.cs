using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class SlowBossBulletFactory : IFactory<Bullet>
{
    private readonly Transform _parent;
    private readonly BulletColor _color;
    
    public SlowBossBulletFactory(Transform parent, BulletColor color)
    {
        _parent = parent;
        _color = color;
    }

    public Bullet Create()
    {
        Bullet bullet;

        switch (_color)
        {
            default:
            case BulletColor.Green:
                bullet = ResourceManager.Instance.ResourceTable.GetValue("SlowGreenBossBullet").GetComponent<Bullet>();
                break;
            case BulletColor.Blue:
                bullet = ResourceManager.Instance.ResourceTable.GetValue("SlowBlueBossBullet").GetComponent<Bullet>();
                break;
            case BulletColor.Red:
                bullet = ResourceManager.Instance.ResourceTable.GetValue("SlowRedBossBullet").GetComponent<Bullet>();
                break;
            case BulletColor.Orange:
                bullet = ResourceManager.Instance.ResourceTable.GetValue("SlowOrangeBossBullet").GetComponent<Bullet>();
                break;
        }
        
        return Object.Instantiate(bullet, _parent);
    }
    
    public enum BulletColor
    {
        Green,
        Blue,
        Red,
        Orange
    }
}
