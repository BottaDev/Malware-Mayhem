using UnityEngine;
using UnityEngine.SceneManagement;

public class SceneLoader : MonoBehaviour
{
    public static SceneLoader Instance = null;

    private void Awake()
    {
        if (Instance == null)
            Instance = this;
    }
    
    public static void RetryCurrentLevel()
    {
        ChangeLevel(DataManager.CurrentLevel);
    }

    public static void ChangeLevel(string level)
    {
        SceneManager.LoadScene(level);
    }

    public void ExitGame()
    {
        Application.Quit();
    }

    public void MainMenu()
    {
        SceneManager.LoadScene(0);
    }

    public void SetNextLevel()
    {
        var level = GetNextLevel();
        
        if (string.IsNullOrEmpty(level))
            return;
        
        ChangeLevel(level);
    }

    private static string GetNextLevel()
    {
        var nextLevel = DataManager.CurrentLevel switch
        {
            "Tutorial" => "Level 1",
            _ => string.Empty
        };

        return nextLevel;
    }
}
