using System;
using UnityEngine;

public class MainMenuPlanetController : MonoBehaviour 
{
    [SerializeField] private float sensitivity = 0.4f;

    private bool _canRotate;
    
    private void Update()
    {
        
    }

    private void OnMouseDrag()
    {
        if (!_canRotate)
            return;
        
        var xAxisRotation = Input.GetAxis("Mouse X") * sensitivity;
        var yaxisRotation = Input.GetAxis("Mouse Y") * sensitivity;

        // Use RotateAround for better rotation
        transform.RotateAround(Vector3.down, xAxisRotation);
        transform.RotateAround(Vector3.right, yaxisRotation);
    }

    private void OnMouseDown()
    {
        // Remove the level window if player rotates the planet
        MenuUIManager.Instance.ShowLevel(-1);
    }
    
    public void SetCanRotate(bool canRotate)
    {
        _canRotate = canRotate;
    }
}