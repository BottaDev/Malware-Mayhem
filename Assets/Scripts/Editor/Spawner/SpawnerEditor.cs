using UnityEditor;
using UnityEngine;

[CustomEditor(typeof(Spawner))]
public class SpawnerEditor : Editor
{
    private Spawner _target;
    
    private void OnEnable()
    {
        _target = (Spawner) target;
    }
    
    private void OnSceneGUI()
    {
        DrawPositions();
    }
    
    private void DrawPositions()
    {
        var spawns = _target.GetSpawnPoints();
            
        if (spawns.Length <= 0)
            return;
        
        foreach (var t in spawns)
        {
            if (t.spawnPoint == null)
                continue;
            
            var transform = t.spawnPoint;
            
            var position = transform.position;
            var rotation = transform.rotation;

            t.spawnPoint.position = Handles.PositionHandle(position, rotation);
        }
    }
}
