using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class FOV : MonoBehaviour
{
    public LayerMask obstacleMask;
    
    /// <summary>
    /// Checks if there is an obstacle between the enemy and the target
    /// </summary>
    /// <param name="targetPos"></param>
    /// <param name="range"></param>
    /// <returns>Returns true if there's an obstacle</returns>
    public bool CheckMiddleObstacle(Vector3 targetPos)
    {
        Vector3 dirToTarget = targetPos - transform.position;
        
        if (dirToTarget.magnitude <= 999)
        {
            if (Physics.Raycast(transform.position, dirToTarget, dirToTarget.magnitude,
                obstacleMask))
                return true;
        }
        
        return false;
    }
}
