using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using Random = UnityEngine.Random;

public class TargetedMissilesAttack : SubmoduleAttack
{
    [Header("Attack Parameters")]
    [SerializeField] private float missileCount = 6f;
    [SerializeField] private GameObject missile;

    [Header("Area Parameters")]
    [SerializeField, Range(1f, 20f)] private float xDim = 1f;
    [SerializeField, Range(1f, 20f)] private float zDim = 1f;

    public override void MakeAction()
    {
        SpawnMissiles();
    }

    private void SpawnMissiles()
    {
        for (var i = 0; i < missileCount; i++)
        {
            var xRand =  Random.Range(-xDim, xDim);
            var zRand =  Random.Range(-zDim, zDim);
            
            // Fix the Y of the spawn
            const float yAxis = 1f;
            
            var pos = new Vector3 (xRand, yAxis, zRand);

            Instantiate(missile, pos, Quaternion.identity);
        }
    }
}
