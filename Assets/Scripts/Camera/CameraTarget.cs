using UnityEngine;
using UnityEngine.Serialization;

namespace MM.Cam
{
    /// <summary>
    /// Moves the camera looking an object
    /// </summary>
    public class CameraTarget : MonoBehaviour
    {
        #region Private Variables
        
        [SerializeField] private float distanceToFloor = 3;
        [SerializeField] private Transform target;
        
        private Transform _myTransform;

        #endregion

        #region MonoBehaviour Functions

        private void Awake()
        {
            _myTransform = transform;
        }

        private void FixedUpdate()
        {
            if (target == null) { return; }
            
            var pos = _myTransform.position;
            var desiredPos = target.position.y + distanceToFloor;
            var smoothedPos = Mathf.Lerp(pos.y, desiredPos, 0.125f);
            _myTransform.position = new Vector3(pos.x, smoothedPos, pos.z);
            
            /*var targetPos = target.position;
            targetPos.y = distanceToFloor;
            _myTransform.position = targetPos;*/
        }

        #endregion
    }
}