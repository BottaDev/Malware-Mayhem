using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class RapidBossBulletFactory : IFactory<Bullet>
{
    private readonly Transform _parent;
    private readonly BulletColor _color;
    
    public RapidBossBulletFactory(Transform parent, BulletColor color)
    {
        _parent = parent;
        _color = color;
    }

    public Bullet Create()
    {
        Bullet bullet;

        switch (_color)
        {
            default:
            case BulletColor.Green:
                bullet = ResourceManager.instance.ResourceTable.GetValue("RapidGreenBossBullet").GetComponent<Bullet>();
                break;
            case BulletColor.Blue:
                bullet = ResourceManager.instance.ResourceTable.GetValue("RapidBlueBossBullet").GetComponent<Bullet>();
                break;
            case BulletColor.Red:
                bullet = ResourceManager.instance.ResourceTable.GetValue("RapidRedBossBullet").GetComponent<Bullet>();
                break;
            case BulletColor.Orange:
                bullet = ResourceManager.instance.ResourceTable.GetValue("RapidOrangeBossBullet").GetComponent<Bullet>();
                break;
        }

        return Object.Instantiate(bullet, _parent);
    }
    
    public enum BulletColor
    {
        Green,
        Blue,
        Red,
        Orange
    }
}
