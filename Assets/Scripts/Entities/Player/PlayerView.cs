using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using UnityEngine;

public class PlayerView : MonoBehaviour
{
    private PlayerModel _model;

    private void Awake()
    {
        _model = GetComponent<PlayerModel>();
    }

    public static void ResetArm(Arm arm)
    {
        arm.gameObject.SetActive(false);
    }

    public static void ShowAbsorptionEffect(Enemy closeEnemy, ParticleSystemForceField forceField)
    {
        var ap = Instantiate(closeEnemy.absortionParticles, closeEnemy.transform.position, Quaternion.identity);
        ap.SetUp(forceField, 1f);
    }
    
    public static void ShowArm(List<Arm> armSets, int armIndex)
    {
        // Reset all arms
        armSets.ForEach(ResetArm);

        // Enable the arm that is currently selected
        armSets[armIndex].gameObject.SetActive(true);
    }

    public void ShowDustVfx(float horizontalMovement, float verticalMovement)
    {
        if (horizontalMovement != 0 || verticalMovement != 0)
            Instantiate(_model.dustParticle, _model.particlePosition);
    }
}
