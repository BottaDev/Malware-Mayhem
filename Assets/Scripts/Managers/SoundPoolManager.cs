using System.Collections;
using System.Collections.Generic;
using Common;
using Sound;
using Sound.Factories;
using UnityEngine;

public class SoundPoolManager : MonoBehaviourSingleton<SoundPoolManager>
{
    public Pool<SoundSource> soundSourcePool;

    private void Start()
    {
        CreatePools();
    }
    
    private void CreatePools()
    {
        var poolTransform = GameObject.Find("Pool").GetComponent<Transform>();
        if (poolTransform == null)
            Debug.LogError("Pool Object not found in scene");
        
        var soundSourceFactory = new SoundSourceFactory(poolTransform);
        soundSourcePool = new Pool<SoundSource>(soundSourceFactory.Create, SoundSource.TurnOn, SoundSource.TurnOff, 10);
    }
}
