using System.Collections;
using System.Collections.Generic;
using EZCameraShake;
using UnityEngine;

public class LaserArm : PlayerArm
{
    public GameObject laser;
    
    public override void MakeAction()
    {
        if (_currentFireRate <= 0)
            Shoot();
    }
    
    private void Shoot()
    {
        Instantiate(laser, shotSpawn.position, shotSpawn.rotation);
        
        SubtractEnergy();
        
        // ToDo: Check why is null after killing one SubBoss
        if (_cameraShaker != null)
            _cameraShaker.ShakeOnce(magnitude, roughness, fadeIn, fadeOut);
        
        AudioManager.Instance.Play("BasicShot");

        _currentFireRate = fireRate;
    }
}
