using UnityEngine;
using UnityEngine.UI;

namespace UI
{
    /// <summary>
    /// Base class for all UI refillable bars.
    /// </summary>
    public class UIBar : MonoBehaviour
    {
        #region Private Variables
        [SerializeField] protected Image bar;

        protected float _maxValue;
        protected float _currentValue;
        protected Color _barColor;
        #endregion
    
        #region MonoBehaviour Functions
        protected virtual void Start()
        {
            _barColor = bar.color;
        }
        #endregion
    
        #region Public Functions
        public virtual void SetMaxValue(float value)
        {
            _maxValue = value;
        
            _currentValue = _maxValue;
        }
    
        public virtual void SetValue(float value)
        {
            _currentValue = value;
        
            bar.fillAmount = _currentValue / _maxValue;
        }
        #endregion
    }
}
