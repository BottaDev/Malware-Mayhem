using UnityEngine;

public class BladerCone : MonoBehaviour
{
    [SerializeField] private float damage;
    [SerializeField] private LayerMask destroyMask;
    
    private void OnTriggerEnter(Collider other)
    {
        MakeDamage(other.gameObject);
    }

    private void MakeDamage(GameObject other)
    {
        if (destroyMask != (destroyMask | (1 << other.layer))) 
            return;
        
        switch (other.layer)
        {
            // Enemy, Player
            case 8 or 9:
                other.GetComponent<Entity>().TakeDamage(damage, PlayerArm.ArmType.BladeArm);
                break;
            
            // Submodule
            case 6:
                other.GetComponent<BossSubmodule>().TransmitDamage(damage, PlayerArm.ArmType.BladeArm);
                break;
        }
    }
}
