using System.Collections;
using UnityEngine;

namespace UI
{
    /// <summary>
    /// Displays the current FPS count on the screen.
    /// </summary>
    public class FpsCounter : MonoBehaviour
    {
        #region Private Variables
        private TMPro.TextMeshProUGUI _text;
        private float _count;
        #endregion
    
        #region MonoBehaviour Functions
        private IEnumerator Start()
        {
            _text = GetComponent<TMPro.TextMeshProUGUI>();
        
            while (true)
            {
                _count = 1f / Time.unscaledDeltaTime;
                yield return new WaitForSeconds(0.1f);
            }
        }

        private void Update()
        {
            UpdateFPSCounter();
        }

        private void UpdateFPSCounter()
        {
            _text.text = Mathf.Round(_count).ToString();
        }
        #endregion
    }
}
