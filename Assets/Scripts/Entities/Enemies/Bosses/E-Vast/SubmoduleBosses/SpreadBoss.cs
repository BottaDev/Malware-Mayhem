using Sound;
using UnityEngine;

public class SpreadBoss : SubBoss
{
    [SerializeField] private SpreadManager spreadManager;

    protected override void LateUpdate() { /* Cancel Rotation */ }

    public override void TakeDamage(float damage, PlayerArm.ArmType aType = PlayerArm.ArmType.None, bool showDamage = true)
    {
        _currentHp -= damage;
        
        if (showDamage)
            StartCoroutine(ShowDamage());
        
        AudioManager.Instance.PlayAudioClip(Sounds.SoundType.EnemyDamaged, transform.position);
        
        if (_currentHp <= 0)
        {
            spreadManager.SpreadDefeated(submoduleIndex);
            Destroy(gameObject);
        }
    }
}